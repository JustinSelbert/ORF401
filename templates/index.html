{% extends "base.html" %}

{% block content %}
<section class="hero-panel">
  <div class="hero-content">
    <p class="eyebrow">Spark a conversation</p>
    <h1 class="hero-title">Not just a ride. Your next connection.</h1>
    <p class="hero-copy">
      SparkRides helps you meet people while you move: a new friend, a business partner, a workout buddy, or a romantic spark.
      We blend route overlap with shared interests so every ride has real social upside.
    </p>
    <div class="hero-cta-row">
      <a class="cta-link" href="{% url 'rides:index' %}">Find Your People</a>
      <a class="secondary-link" href="{% url 'rides:map' %}">See Live Routes</a>
    </div>
  </div>

  <div class="hero-stats">
    <article class="stat-card">
      <p class="stat-value">{{ stat_total_rides }}</p>
      <p class="stat-label">active rides in network</p>
    </article>
    <article class="stat-card">
      <p class="stat-value">{{ stat_open_rides }}</p>
      <p class="stat-label">rides currently taking passengers</p>
    </article>
    <article class="stat-card">
      <p class="stat-value">{{ stat_open_seats }}</p>
      <p class="stat-label">open seats in total inventory</p>
    </article>
  </div>
</section>

<section class="feature-grid">
  <article class="feature-card">
    <h3>Match The Vibe</h3>
    <p>We pair route fit with personality fit, so you share the car with people you actually want to talk to.</p>
  </article>
  <article class="feature-card">
    <h3>Meet For Real Outcomes</h3>
    <p>Turn commute time into connection time: make friends, grow your network, or explore something more.</p>
  </article>
  <article class="feature-card">
    <h3>Know Before You Ride</h3>
    <p>Preview profiles, shared interests, and open seats before you commit, so every match feels intentional.</p>
  </article>
</section>

<section class="partner-section">
  <div class="section-heading">
    <p class="eyebrow">Connected Platforms</p>
    <h2>Built for chemistry, backed by data.</h2>
    <p>
      Link your favorite platforms to improve match quality without oversharing. You decide what fuels the algorithm.
    </p>
  </div>
  <div class="partner-grid">
    <article class="partner-card">
      <img src="/static/partners/spotify.svg" alt="Spotify partner logo">
      <h3>Spotify</h3>
      <p>Start with shared playlists, artists, and audio taste.</p>
    </article>
    <article class="partner-card">
      <img src="/static/partners/instagram.svg" alt="Instagram partner logo">
      <h3>Instagram</h3>
      <p>Use shared interests and lifestyle signals to improve fit.</p>
    </article>
    <article class="partner-card">
      <img src="/static/partners/facebook.svg" alt="Facebook partner logo">
      <h3>Facebook</h3>
      <p>Add social context to strengthen trust and compatibility.</p>
    </article>
    <article class="partner-card">
      <img src="/static/partners/youtube.svg" alt="YouTube partner logo">
      <h3>YouTube Music</h3>
      <p>Improve long-ride match confidence with deeper taste signals.</p>
    </article>
  </div>
</section>

<section class="map-section">
  <div class="map-card">
    <img src="/static/maps/spark-city-map.svg" alt="Stylized SparkRides city map with route paths">
  </div>
  <div class="map-copy">
    <p class="eyebrow">Live Corridor Insights</p>
    <h2>See where conversations are already happening.</h2>
    <p>
      Browse hotspots, seat supply, and active corridors to jump into the right social lane fast.
    </p>
    <ul class="map-list">
      <li>Find high-energy corridors with active riders</li>
      <li>Spot pickup clusters by neighborhood and city</li>
      <li>Layer compatibility signals before you book</li>
    </ul>
    <a class="inline-link" href="{% url 'rides:map' %}">Open the live map</a>
  </div>
</section>

<section class="info-grid">
  <article class="info-card">
    <p class="info-step">01</p>
    <h3>Set Your Intent</h3>
    <p>Tell SparkRides what you want from rides: friends, networking, dating, or all three.</p>
  </article>
  <article class="info-card">
    <p class="info-step">02</p>
    <h3>Find The Right Match</h3>
    <p>Filter by route, time, and seats to quickly surface people you would actually enjoy meeting.</p>
  </article>
  <article class="info-card">
    <p class="info-step">03</p>
    <h3>Ride And Connect</h3>
    <p>Book confidently with context, then turn dead commute time into real relationship momentum.</p>
  </article>
</section>

<section class="split-panel">
  <article class="split-card">
    <p class="eyebrow">Featured Matches</p>
    <h3>People you could meet today</h3>
    <div class="mini-list">
      {% for match in featured_matches %}
      <div class="mini-item">
        <div>
          <a class="rider-link" href="{% url 'rides:rider_profile' match.rider.id %}"><strong>{{ match.rider.first_name }}</strong></a>
          <p>{{ match.rider.origination }} to {{ match.rider.destination_city }}, {{ match.rider.destination_state }}</p>
        </div>
        <span class="pill pill-yes">{{ match.compatibility }}</span>
      </div>
      {% empty %}
      <p class="empty-state">No open rides are currently listed.</p>
      {% endfor %}
    </div>
  </article>

  <article class="split-card">
    <p class="eyebrow">Popular Destinations</p>
    <h3>Most active meeting corridors</h3>
    <div class="destination-list">
      {% for destination in popular_destinations %}
      <div class="destination-row">
        <span>{{ destination.destination_city }}, {{ destination.destination_state }}</span>
        <strong>{{ destination.total }} rides</strong>
      </div>
      {% empty %}
      <p class="empty-state">No destination data yet.</p>
      {% endfor %}
    </div>
    <a class="inline-link" href="{% url 'rides:index' %}">Explore all rides</a>
  </article>
</section>

<section class="upcoming-section">
  <div class="section-heading">
    <p class="eyebrow">Upcoming Departures</p>
    <h2>Next opportunities to spark a conversation.</h2>
  </div>
  <div class="upcoming-grid">
    {% for ride in upcoming_preview %}
    <article class="upcoming-card">
      <h3><a class="rider-link" href="{% url 'rides:rider_profile' ride.id %}">{{ ride.first_name }}</a></h3>
      <p>{{ ride.origination }} to {{ ride.destination_city }}, {{ ride.destination_state }}</p>
      <p>{{ ride.date }} at {{ ride.time }}</p>
      {% if ride.taking_passengers %}
      <span class="pill pill-yes">{{ ride.seats_available }} seats open</span>
      {% else %}
      <span class="pill pill-no">Driver only</span>
      {% endif %}
    </article>
    {% empty %}
    <p class="empty-state">No scheduled departures available.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
